!function(o){o(window.jQuery,window,document)}(function(o,n){function e(n,e,r){var t=r,a={username:n,password:e};return o.ajax({url:"/authenticate",type:"post",headers:{Authorization:t},data:a})}function r(){return o.ajax({url:"/access",type:"get"})}function t(){return o.ajax({url:"/authenticate/twitter",type:"get"})}o(function(){o("#loginForm").append('<form method="post">'),o("#loginForm form").append('<div id="username" class="form-group">'),o("#loginForm form #username").append('<label for="username">Username</label>'),o("#loginForm form #username").append('<input type="text" class="form-control" id="username" name="username" placeholder="username">'),o("#loginForm form").append('<div id="password" class="form-group">'),o("#loginForm form #password").append('<label for="password">Password</label>'),o("#loginForm form #password").append('<input type="password" class="form-control" id="password" name="password" placeholder="password">'),o("#loginForm form").append('<button type="submit" class="btn btn-default">Submit</button>'),o("#loginForm form").append("</br>"),o("#loginForm form").append("</br>"),o("#loginForm form").append('<a class="btn twitterBtn" id="twitter"><img src="images/twitter_button.png"/></a>');var a=o("#loginForm");a.on({submit:function(t){t.preventDefault();{var a=o(this).find("[name='username']").val(),i=o(this).find("[name='password']").val();r().done(function(r){e(a,i,r.key).done(function(e){var r=o.parseJSON(e);o.each(r,function(o,e){n.location=e})}).fail(function(e){console.log(e);var r=o.parseJSON(e.responseText);console.log(r),o.each(r,function(e,r){"/register"===r?n.location.href=r:o("#authorized").text(r)})})})}}});var i=o("#twitter");i.on({click:function(){console.log("twitter clicked"),t().done(function(o){var e=o.replace(/\"/g,"");n.location=e})}})})});